{% extends "hospital/base.html" %}

{% block content %}
<h2>Billing Records</h2>
<style>
    table {
        width: 100%;
        border-collapse: collapse;
    }
    th, td {
        padding: 6px 8px;
        text-align: left;
        border-bottom: 1px solid #ddd;
    }
    th {
        background-color: #f2f2f2;
        font-size: 20px;
        
        font-weight: bolder;
        text-align: center;
    }
    td {
        font-size: 18px;
        color: black;
    }
    h2 {
        text-align: center;
        color: #1e21d6;
        font-size: 2rem;
        margin-bottom: 20px;
    }
    
</style>

<table border="3">
    <tr>
        <th>Patient</th>
        <th>Doctor</th>
        <th>Amount</th>
        <th>Status</th>
    </tr>
    {% for bill in bills %}
    <tr>
        <td>
            {% if bill.patient %}
                {{ bill.patient.user.get_full_name|default:bill.patient.user.username }}
            {% else %}
                <i>No Patient</i>
            {% endif %}
        </td>

        <td>
            {% if bill.doctor %}
                Dr. {{ bill.doctor.user.get_full_name|default:bill.doctor.user.username }}
            {% else %}
                <i>No Doctor</i>
            {% endif %}
        </td>

        <td>â‚¹{{ bill.amount }}</td>

        <td>
            {{ bill.get_status_display }}
        </td>
    </tr>
    {% endfor %}
</table>

{% endblock %}
